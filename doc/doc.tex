\documentclass[11pt, a4paper, titlepage]{article}

% Set document dimensions
\usepackage[paper=a4paper,top=1cm,left=2cm,right=2cm,bottom=2cm, includefoot]{geometry}
\usepackage{float}
\usepackage[final]{pdfpages} % inludesvg

% Czech fonts
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{wrapfig}
% \usepackage{titlesec}
\usepackage{color} % barvy
\usepackage{xcolor} % vytváření barev
\usepackage{multicol}
\usepackage{newverbs}
\usepackage{lipsum}

%\usepackage{fancyhdr}

\usepackage{fancyhdr}


\lstnewenvironment{code}[1][]%
{\noindent\minipage{\linewidth}\lstset{frameround=fttf,#1}}%
{\endminipage}%

\definecolor{codeprimary}{HTML}{3300CC}
\colorlet{keywordstyle}{codeprimary!50!black}
\lstset{
language=C++,
frameround=fftf,
breaklines=true,
keywordstyle=\color{keywordstyle}\ttfamily,
basicstyle=\color{codeprimary},
numberstyle=\color{black},
backgroundcolor=\color{white},
frame=single,
tabsize=4,
breaklines=true,
captionpos=t,
xleftmargin=\dimexpr\fboxsep+1pt\relax,
xrightmargin=\fboxsep,
numbers=none,
showstringspaces=false,
escapeinside={\#!}{\^^M},
belowcaptionskip=0pt,
belowskip=0pt,
aboveskip=0pt,
}

\makeatletter
\newcommand\ic[1][green]{%
\@testopt{\@ic{#1}}{-#1}% Handle second optional argument
}
\def\@ic#1[#2]{%
\Collectverb{\@@ic{#1}{#2}}%
}
\def\@@ic#1#2#3{%
{\lstinline[basicstyle=\ttfamily\color{codeprimary},breaklines=true]|#3|}%
}
\newcommand{\icmacro}[1]{{\lstinline[basicstyle=\ttfamily\color{codeprimary},breaklines=true]|#1|}}
\makeatother


\setlength{\headheight}{3em}
\newcommand{\subsectionbreak}{\clearpage}

\begin{document}
    \input{_titlepage.tex}
    \pagestyle{fancy}
    \lfoot{\emph{VUT FIT - IMS}}
    \rfoot{\emph{Josef Kolář, Iva Kavánková}}
    \rhead{...}
    \lhead{Modelování a simulace}
    \tableofcontents
    \pagebreak
    %\noindent\makebox[\linewidth]{\rule{\textwidth}{0.4pt}}

    \section{Úvod}
    Tato práce vznikla jako projekt do předmětu Modelování a simulace. Zabývá se simulací (viz [\ref{ims}], slajd č. 8)
    modelu (viz [\ref{ims}], slajd č. 7) chovu cvrčků banánových (dále jen crvčci). Na základě daného modelu a sady simulačních experimentů (viz [\ref{ims}], slajd č. 33),
    bude ukázáno chování systému v rozdílných podmínkách. Smyslem projektu je demonstrovat, smysluplnost a finanční efektivitu hypotetické farmy na cvrčky.

    \subsection{Zdroje informací}
    Autoři projektu jsou Josef Kolář a Iva Kavánková. Při tvorbě došlo k čeprání znalostí z přednášek předmětu Modelování a simulace, z odborné literatury
    [\ref{kniha}], napsání dotazů na odborné internetové fórum (viz [\ref{forum}]) a taktéž od inženýrky Olgy Kavánkové, která je středoškolskou pedagožkou s aprobací na biologii
    a matematiku, čímž ji patří velké poděkování. Díky jejím odborným znalostem byl vytvořen odpovídající abstraktní model
    (viz [\ref{ims}], slajd č. 9).

    \subsection{Ověřování validity modelu}
    Validita (viz [\ref{ims}], slajd č. 37) byla ověřována při našem postupném testování. Výsledky byly porovnány s dříve získanými daty.
    Ověřování validity bylo považováno za úspěšné v momentě, kdy se výsledky simulace blížily s námi získanými informacemi.

    \section{Rozbor tématu a použitých metod/technologií}
    Pro modelování a simulaci hmyzí farmy je nutné znát její reálný chod. \\
    Životní cyklus cvrčka začíná jeho vylíhnutím, poté následuje doba dospívání,po které je jich schopen reprodukce a zároveň
    je také vhodný na prodej pro potravinářské účely. Samice po oplodnění samcem je schopna klást vajíčka, ze kterých vzniká
    nová generace. Nicméně, ne ze všech vajíček se narodí živí jedinci. Je také nutné brát v úvahu úbytek samců po soubojích, které provádí mezi sebou. Různě staré cvrčky je nutno chovat v generačních nádobách,
    neboť jinak dochází k velké míře kanibalismu. Jedinci konzumují různé množství potravy podle svého věku.\\
    Shrnutí použitých číselných údajů pro model znázorňuje následující tabulka.

    \begin{table}[h]
        \begin{tabular}{|c|c|c|}
            \hline
            \textbf{Popis}                                         & \textbf{Hodnota}      & \textbf{Zdroj}                        \\ \hline
            Doba dospívání od vylíhnutí & (No) 4 týdny & Ing. Kavánková                   \\ \hline
            Doba, za kterou je jedinec vhodný k prodeji & (No) 4 týdny & Převazato z [\ref{kniha}]             \\ \hline
            Množství denně nakladených vajíček & (No) 10 & Převazato z [\ref{kniha}]             \\ \hline
            Úspěšnost vylíhnutí jedince z vajíčka & 90 \%                 & Ing. Kavánková                   \\ \hline
            Doba od nakladení k vylíhnutí & (No) 2 týdny & Převazato z [\ref{kniha}]             \\ \hline
            Celková doba života jedince & (No) 12 týdnů & Ing. Kavánková                   \\ \hline
            Počet jedinců v 1 litru & 600 ks & Převazato z [\ref{forum}]             \\ \hline
            Cena 1 litru jedinců k prodeji & 300 Kč & Průměrná hodnota z [\ref{cena}]       \\ \hline
            Denní úbytek samců po soubojích & 5 \%                  & Ing. Kavánková                   \\ \hline
            Denní množství potravy pro jedince starého 0 - 4 týdny & (No) 0,016 g & Převazato z [\ref{jidlo}]             \\ \hline
            Denní množství potravy pro jedince staršího 4 týdnů & (No) 0,034 g & Převazato z [\ref{jidlo}]             \\ \hline
            Cena 1 kg potravy & 800 Kč & Převazato z [\ref{forum}]             \\ \hline
        \end{tabular}
    \end{table}

    \subsection{Použité postupy}
    Program byl implementován v jazyce C++ s pomocí simulační knihovny SIMLIB (viz [\ref{simlib}]). To usnadňuje objektový návrh
    a třídy vhodné pro simulaci konkrétního zadání. Použité algoritmy byly použity ze slajdů k předmětu IMS (viz [\ref{ims}]), slajdy
    z prvního (viz [\ref{prvnidemo}]) a druhého (viz [\ref{druhedemo}]) demonstračního cvičení z tohoto předmětu.



    \section{Koncepce modelu}

    \subsection{Návrh konceptuálního modelu}

    \subsection{Formy konceptuálního modelu}

    \section{Architektura simulačního modelu}

    Simulační model využívá SIMLIB procesů reprezentujících jednotlivé jedince a jejich životní cyklus. Líhnutí vajíček
    je poté událost po vzoru SIMLIB a zajištuje vytvoření další procesů. Pro možnou analýzu rozložení generací
    jednotlivých jedinců v modelu je každému procesu přidělen atribut s pořadím generace. Pro agregaci těchto dat jsou
    použity nástroje ze simulační knihovny.

    \subsection{Rozbor implementace}

    Jádro simulační modelu leží ve třídách \ic|Cricket| a \ic|HatchEvent|. V případě první se jedná o proces modelující
    životní cyklus jednoho cvrčka, jakožto jedince. Druhá třída poté simuluje pomocí události nakladené vajíčko cvrčka -
    její naplánování do kalendáře zajištují samičky.

    \section{Podstata simulačních experimentů a jejich průběh}

    Pomocí experimentů nad modelem cvrččí farmy bychom rádi zoptimalizovali nastavení několika parametrů při jejím provozu
    vzhledem k ekonomice tohoto podniku. Jedná se o následující parametry:

    \begin{itemize}
        \item \textbf{Množství jedinců na počátku} - Množství přímo ovlivňuje další průběh provozu farmy, především rychlost
        jejího \uv{nastartování}, tedy odchování dostatečného počtu jedinců k založení další generace a prodeji.

        \item \textbf{Poměr jedinců k exportu} - Vzhledem k metodám chovu je nutno stanovit, jaké množství čerstvě vylíhnutých
        jedinců je určeno k exportu a tím i jaké množství se následně množí a vytváří tak další generaci.
    \end{itemize}

    \subsection{Postup experimentování}

    Experimentování probíhalo pomocí úpravy těchto parametrů a přímou analýzou výsledků.

    \subsection{Dokumentace jednotlivých experimentů}

    \subsection{Závěry experimentů}

    \section{Shrnutí simulačních experimentů a závěr}
    Jsme šikovní.

    \addcontentsline{toc}{section}{Reference}
    \begin{thebibliography}{zdroje}
        \bibitem{1} \label{ims} PERINGER P. Slajdy k přednáškám do předmětu Modelování a simulace, 2017. Verze 15. září 2017 [cit. 2018-12-05]
        \bibitem{2} \label{kniha} KOVAŘÍK, František. Hmyz: chov, morfologie. Jihlava: Madagaskar, 2000. ISBN 80-86068-24-2.
        \bibitem{3} \label{simlib} PERINGER P. Simulační knihovna SIMLIB pro C++, dostupné na https://www.fit.vutbr.cz/~peringer/SIMLIB/
        \bibitem{4} \label{prvnidemo} HRUBÝ M. Slajdy k I. democvičení, 2011 [cit. 2018-12-05]
        \bibitem{5} \label{druhedemo} HRUBÝ M. Slajdy k II. democvičení, 2011 [cit. 2018-12-05]
        \bibitem{6} \label{jidlo} [Online] http://www.openbugfarm.com/forum.html?fbclid=IwAR3tl0-KFHtvkUVEI5XdTn54CVVGcY5vnApXX0xmOnOQ5B78kurOgmtlcwo\#/discussion/1111/how-much-do-crickets-eat [cit. 2018-12-05]
        \bibitem{7} \label{forum} [Online] https://www.ifauna.cz/terarijni-zvirata/diskuse/detail/3524112/chov-cvrcku-v-cislech\#a3524888 [cit. 2018-12-05]
        \bibitem{7} \label{cena} [Online] https://www.broukarna.cz/cvrcci/cvrcek-bananovy-2-2/ [cit. 2018-12-05]
    \end{thebibliography}

\end{document}